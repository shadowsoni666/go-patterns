## Fan-Out (Демультиплексор)
Шаблон Fan-Out (Демультиплексор) равномерно распределяет сообщения из
одного входного канала между несколькими выходными каналами.
Применимость
Шаблон Fan-out (Демультиплексор) принимает сообщения из входного канала и равномерно распределяет их между выходными каналами. Это очень
полезный шаблон для распараллеливания вычислительных ресурсов и  ресурсов ввода/вывода.
Например, представьте, что у  вас есть источник данных, входной поток
или брокер сообщений, который предоставляет входные данные для некоторой ресурсоемкой работы. Вместо того чтобы связывать процессы ввода
и вычислений в один последовательный процесс, можно просто распараллелить рабочую нагрузку, распределив ее между несколькими вычислительными процессами.

В этом примере функция Split принимает канал source, доступный только
для приема, и целое число n, определяющее количество выходных каналов.
Она возвращает срез с n каналами, доступными только для отправки, того
же типа, что и source.
Внутри Split создает выходные каналы. Для каждого созданного канала
она запускает сопрограмму, которая извлекает значения из source в цикле
for и пересылает их в назначенный ей выходной канал. Фактически все эти
сопрограммы состязаются между собой за чтение из source; победитель в таком состязании выбирается случайным образом. Если source закроется, то все
сопрограммы завершатся и все выходные каналы закроются:

В этом примере создается входной канал source, который передается
в Split для получения выходных каналов. Затем в отдельной сопрограмме
в него записываются числа от 1 до 10, которые извлекаются из dests в пяти
других сопрограммах. По завершении ввода канал source закрывается, что
вызывает закрытие выходных каналов и завершение циклов чтения, после
чего каждая сопрограмма вызывает wg.Done, снимается блокировка wg.Wait,
и функция main завершается.