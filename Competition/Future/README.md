## Future
Компоненты
Этот шаблон включает следующие компоненты:
Future
    Интерфейс, который получает пользователь для извлечения окончательного результата.
SlowFunction
    Функция-обертка вокруг некоторой функции, которую требуется выполнить асинхронно; возвращает Future.
InnerFuture
    Удовлетворяет интерфейсу Future; включает присоединенный метод с логикой доступа к результату.

Прикладной интерфейс (API), предлагаемый пользователю, довольно прост:
программист вызывает SlowFunction, которая возвращает значение, удовлетворяющее интерфейсу Future. Future может быть специализированным интерфейсом, как в  следующем примере, или быть чем-то более похожим на
io.Reader, экземпляры которого можно передавать его собственным функциям.
Когда вызывается SlowFunction, она выполняет заданную функцию как сопрограмму и определяет каналы для передачи результата функции, которые
заключает в экземпляр InnerFuture.
InnerFuture имеет один или несколько методов, которые удовлетворяют
интерфейсу Future, извлекают из каналов значения, возвращаемые функцией, кешируют их и возвращают. Если значения недоступны в канале, то
вызов блокируется. Если они уже были получены раньше, то возвращаются
кешированные значения
этой реализации сама структура содержит канал и переменную для каждого значения, возвращаемого методом Result. При первом вызове Result
пытается прочитать результаты из каналов и сохранить их в структуре InnerFuture, чтобы последующие вызовы могли сразу вернуть кешированные
значения.
Обратите внимание на использование экземпляров sync.Once и sync.WaitGroup. Первый делает то, о  чем говорит его имя: гарантирует ровно один
вызов указанной функции. WaitGroup обеспечивает безопасность вызова
функции в многопоточном окружении: любые вызовы после первого будут
блокироваться на wg.Wait, пока не завершится чтение канала